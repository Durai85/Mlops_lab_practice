name: Train and Build

on: [push]

jobs:
    build:
          runs-on: ubuntu-latest

          steps:
              - uses: actions/checkout@v3

              - uses: actions/setup-python@v4
                with: 
                    python-version: "3.9"

              - name: installing dependencies
                run: |
                  pip install -r requirements.txt

              - name: Training Model
                run: |
                  python train.py
              - name: Run Docker container
                run: |
                  docker run -d -p 5000:5000 --name model-ml iris-app
                  echo "âœ… Container running on port 5000"